{"version":3,"sources":["components/Section/Section.module.css","components/Modal/Modal.module.css","components/Button/Button.module.css","services/apiFetch.js","components/SearchBar/SearchBar.js","helpers/mapper.js","components/ImageGallery/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Section/Section.js","components/Button/Button.js","components/Loader/Loader.js","components/Modal/Modal.js","components/App/App.js","index.js","components/SearchBar/SearchBar.module.css","components/ImageGallery/ImageGallery.module.css"],"names":["module","exports","fetchImg","searchName","page","axios","get","SearchBar","state","value","handleChangeInput","currentTarget","setState","handleSubmit","e","onSubmit","props","preventDefault","trim","className","s","searchBar","searchForm","this","searchButton","type","buttonLabel","formInput","autoComplete","autoFocus","placeholder","onChange","Component","mapper","hits","map","imageId","id","smallImg","webformatURL","modalImg","largeImageURL","tags","ImageGalleryItem","onModalClick","galleryImage","src","alt","onClick","ImageGallery","images","onModalOpen","gallery","item","Section","children","section","container","Button","onLoadMore","button","App","color","height","width","timeout","modalRoot","document","querySelector","Modal","modalClose","onClose","code","handleBackdropClick","target","window","addEventListener","removeEventListener","createPortal","overlay","modal","query","loading","modalShow","error","fetchImages","imageApi","then","data","prevState","catch","finally","reset","handleNextPage","toggleModal","prevProps","scrollTo","top","documentElement","scrollHeight","behavior","message","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.d843a56a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"section\":\"Section_section__2QykX\",\"container\":\"Section_container__30Ijz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__xPXOl\",\"modal\":\"Modal_modal__2OyxV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__1Oxc2\"};","import axios from 'axios';\r\n\r\nconst API_KEY = \"21924211-a56ef8093bc4c324081574229\";\r\nconst BASE_URL = 'https://pixabay.com/api/';\r\nconst PER_PAGE = 12;\r\n\r\nexport const fetchImg = (searchName, page) => (\r\n    axios.get(\r\n        `${BASE_URL}?image_type=photo&orientation=horizontal&q=${searchName}&page=${page}&per_page=${PER_PAGE}&key=${API_KEY}`\r\n    )\r\n)\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport s from \"./SearchBar.module.css\";\r\n\r\nexport default class SearchBar extends Component {\r\n\r\n    static propTypes = {\r\n        onSubmit: PropTypes.func.isRequired,\r\n    };\r\n\r\n    state = {\r\n        value: '',\r\n    };\r\n\r\n\r\n    handleChangeInput = ({currentTarget: {value}}) => {\r\n        this.setState({ value: value });\r\n    };\r\n\r\n    handleSubmit = e => {\r\n        const { onSubmit } = this.props;\r\n        const { value } = this.state;\r\n        e.preventDefault();\r\n        if (value.trim()) {\r\n            onSubmit(value);\r\n            this.setState({ value: '' });\r\n        };\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <header\r\n                className={s.searchBar}\r\n            >\r\n                <form\r\n                    className={s.searchForm}\r\n                    onSubmit={this.handleSubmit}\r\n                >\r\n                    <button\r\n                        className={s.searchButton}\r\n                        type='submit'\r\n                    >\r\n                        <span\r\n                            className={s.buttonLabel}>\r\n                            Search\r\n                        </span>\r\n                    </button>\r\n                    <input\r\n                        className={s.formInput}\r\n                        type='text'\r\n                        autoComplete=\"off\"\r\n                        autoFocus\r\n                        placeholder=\"Search images and photos\"\r\n                        onChange={this.handleChangeInput}\r\n                    />\r\n                </form>\r\n            </header>\r\n        );\r\n    };\r\n};\r\n","const mapper = hits => {\r\n    return hits.map(({ id: imageId, webformatURL: smallImg, largeImageURL: modalImg, tags }) => (\r\n        { imageId, smallImg, modalImg, tags }\r\n    ))\r\n};\r\n\r\nexport default mapper;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport s from \"./ImageGallery.module.css\";\r\n\r\n\r\nconst ImageGalleryItem = ({ smallImg, modalImg, tags, onModalClick }) => {\r\n    return (\r\n        <img\r\n            className={s.galleryImage}\r\n            src={smallImg}\r\n            alt={tags}\r\n            onClick={() => onModalClick(modalImg, tags)}\r\n        />\r\n    );\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n    onModalClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;","import React from 'react';\r\nimport ImageGalleryItem from \"./ImageGalleryItem\";\r\nimport PropTypes from 'prop-types';\r\nimport s from \"./ImageGallery.module.css\";\r\n\r\nconst ImageGallery = ({ images, onModalOpen }) => (\r\n    <ul className={s.gallery}>\r\n        {images.map(({ imageId, smallImg, modalImg, tags }) =>\r\n            <li\r\n                className={s.item}\r\n                key={imageId}>\r\n                <ImageGalleryItem\r\n                    smallImg={smallImg}\r\n                    tags={tags}\r\n                    modalImg={modalImg}\r\n                    onModalClick={onModalOpen}\r\n                />\r\n            </li>\r\n        )}\r\n    </ul>\r\n);\r\n\r\nImageGallery.propTypes = {\r\n    images: PropTypes.arrayOf(PropTypes.shape({\r\n        imageId: PropTypes.number.isRequired,\r\n        smallImg: PropTypes.string.isRequired,\r\n        modalImg: PropTypes.string.isRequired,\r\n        tags: PropTypes.string.isRequired,\r\n    }).isRequired).isRequired,\r\n    onModalOpen: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport s from './Section.module.css';\r\n\r\nconst Section = ({ children }) => (\r\n  <section\r\n    className={s.section}>\r\n    <div\r\n      className={s.container}>\r\n      {children}\r\n    </div>\r\n  </section>\r\n);\r\n\r\nSection.propTypes = {\r\n  children: PropTypes.node,\r\n};\r\n\r\nexport default Section;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport s from \"./Button.module.css\";\r\n\r\nconst Button = ({ onLoadMore }) => (\r\n    <button\r\n        className={s.button}\r\n        type=\"button\"\r\n        onClick={() => onLoadMore()}>\r\n        Load more\r\n    </button>\r\n);\r\n\r\nButton.propTypes = {\r\n    onLoadMore: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;","import Loader from \"react-loader-spinner\";\r\nimport React, { Component } from 'react';\r\n\r\nexport default class App extends Component {\r\n  \r\n  render() {\r\n    return (\r\n      <Loader\r\n        type=\"ThreeDots\"\r\n        color=\"#3f51b5\"\r\n        height={100}\r\n        width={100}\r\n        timeout={3000}\r\n      />\r\n    );\r\n  }\r\n}","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {createPortal} from 'react-dom';\r\nimport s from \"./Modal.module.css\";\r\n\r\nconst modalRoot = document.querySelector('#modal');\r\n\r\nexport default class Modal extends Component {\r\n    static propTypes = {\r\n        onClose: PropTypes.func.isRequired,\r\n    };\r\n\r\n    componentDidMount() {\r\n        window.addEventListener('keydown', this.modalClose);\r\n    };\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener('keydown', this.modalClose);\r\n    };\r\n    \r\n    modalClose = e => {\r\n        const { onClose } = this.props;\r\n        if (e.code === 'Escape') {\r\n            onClose()\r\n        };\r\n    };\r\n\r\n    handleBackdropClick = e => {\r\n        const { onClose } = this.props;\r\n        if (e.currentTarget === e.target) {\r\n            onClose();\r\n        }\r\n    };\r\n\r\n    render() {\r\n        const { modalImg, tags } = this.props;\r\n        return createPortal(\r\n            <div className={s.overlay}\r\n                onClick={this.handleBackdropClick}>\r\n                <div className={s.modal}>\r\n                    <img\r\n                        src={modalImg}\r\n                        alt={tags}\r\n                    />\r\n                </div>\r\n            </div>,\r\n            modalRoot\r\n        )\r\n    };\r\n};","import * as imageApi from \"../../services/apiFetch\";\r\nimport React, { Component } from \"react\";\r\nimport SearchBar from \"../SearchBar\";\r\nimport mapper from \"../../helpers/mapper\";\r\nimport ImageGallery from \"../ImageGallery\";\r\nimport Section from \"../Section\";\r\nimport Button from \"../Button\";\r\nimport Loader from \"../Loader\";\r\nimport Modal from \"../Modal\";\r\n\r\nexport default class App extends Component {\r\n\r\n  state = {\r\n    images: [],\r\n    query: \"\",\r\n    modalImg: '',\r\n    tags: '',\r\n    page: 1,\r\n    loading: false,\r\n    modalShow: false,\r\n    error: ''\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const { query, page } = this.state;\r\n\r\n    if (query !== prevState.query || page !== prevState.page) {\r\n      this.fetchImages(query, page);\r\n    };\r\n    window.scrollTo({\r\n          top: document.documentElement.scrollHeight,\r\n          behavior: 'smooth',\r\n        });\r\n  };\r\n\r\n  fetchImages = (query, page) => {\r\n    this.setState({ loading: true });\r\n    imageApi\r\n      .fetchImg(query, page)\r\n      .then(({ data: { hits } }) => {\r\n        this.setState((prevState) => ({\r\n          images: [...prevState.images, ...mapper(hits)],\r\n        }));\r\n      }\r\n      )\r\n      .catch((error) => this.setState({error}))\r\n      .finally(() => this.setState({ loading: false }));\r\n  };\r\n\r\n  reset = () => {\r\n    this.setState({\r\n      images: [],\r\n      query: \"\",\r\n      page: 1,\r\n    });\r\n  };\r\n\r\n  handleSubmit = query => {\r\n    this.reset();\r\n    this.setState({ query });\r\n  };\r\n\r\n  handleNextPage = () => {\r\n    this.setState((prevState) => ({ page: prevState.page + 1 }));\r\n  };\r\n\r\n  toggleModal = (modalImg, tags) => {\r\n    this.setState(({ modalShow }) => ({ modalShow: !modalShow, modalImg, tags }));\r\n  };\r\n\r\n  render() {\r\n    const { images, loading, modalShow, modalImg, tags, error } = this.state;\r\n    return (\r\n      <>\r\n        <SearchBar\r\n          onSubmit={this.handleSubmit}\r\n        />\r\n        <Section>\r\n          {\r\n            error &&\r\n            <h2>{error.message}</h2>\r\n          }\r\n          {\r\n            !!images.length &&\r\n            <ImageGallery\r\n              images={images}\r\n              onModalOpen={this.toggleModal}\r\n            />\r\n          }\r\n          {\r\n            loading &&\r\n            <Loader />\r\n          }\r\n          {\r\n            !!images.length &&\r\n            <Button\r\n              onLoadMore={this.handleNextPage}\r\n            />\r\n          }\r\n        </Section>\r\n        {\r\n          modalShow &&\r\n          <Modal\r\n            onClose={this.toggleModal}\r\n            modalImg={modalImg}\r\n            tags={tags}\r\n          />\r\n        }\r\n      </>\r\n    );\r\n  };\r\n};\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchBar\":\"SearchBar_searchBar__2wzxk\",\"searchForm\":\"SearchBar_searchForm__3phfb\",\"searchButton\":\"SearchBar_searchButton__9jSSs\",\"buttonLabel\":\"SearchBar_buttonLabel__1e0fd\",\"formInput\":\"SearchBar_formInput__1sW50\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"ImageGallery_gallery__3nfW3\",\"item\":\"ImageGallery_item__1lfaH\",\"galleryImage\":\"ImageGallery_galleryImage__3pHg0\"};"],"sourceRoot":""}