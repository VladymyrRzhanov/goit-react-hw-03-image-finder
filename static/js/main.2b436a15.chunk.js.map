{"version":3,"sources":["components/Section/Section.module.css","components/Modal/Modal.module.css","components/Button/Button.module.css","services/apiFetch.js","components/SearchBar/SearchBar.js","helpers/mapper.js","components/ImageGallery/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Section/Section.js","components/Button/Button.js","components/Loader/Loader.js","components/Modal/Modal.js","components/App/App.js","index.js","components/SearchBar/SearchBar.module.css","components/ImageGallery/ImageGallery.module.css"],"names":["module","exports","fetchImg","searchName","page","axios","get","SearchBar","state","value","handleChangeInput","currentTarget","setState","handleSubmit","e","onSubmit","props","preventDefault","trim","className","s","searchBar","searchForm","this","searchButton","type","buttonLabel","formInput","autoComplete","autoFocus","placeholder","onChange","Component","mapper","hits","map","imageId","id","smallImg","webformatURL","modalImg","largeImageURL","tags","ImageGalleryItem","onModalClick","galleryImage","src","alt","onClick","ImageGallery","images","onModalOpen","gallery","item","Section","children","section","container","Button","onLoadMore","button","App","color","height","width","timeout","modalRoot","document","querySelector","Modal","modalClose","onClose","code","handleBackdropClick","target","window","addEventListener","removeEventListener","createPortal","overlay","modal","query","visible","modalShow","fetchImages","imageApi","then","data","prevState","scrollTo","top","documentElement","scrollHeight","behavior","catch","error","console","log","finally","reset","handleNextPage","toggleModal","prevProps","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.2b436a15.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"section\":\"Section_section__2QykX\",\"container\":\"Section_container__30Ijz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__xPXOl\",\"modal\":\"Modal_modal__2OyxV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__1Oxc2\"};","import axios from 'axios';\r\n// import React from 'react'\r\n\r\nconst API_KEY = \"21924211-a56ef8093bc4c324081574229\";\r\nconst BASE_URL = 'https://pixabay.com/api/';\r\nconst PER_PAGE = 12;\r\n\r\nexport const fetchImg = (searchName, page) => (\r\n    axios.get(\r\n        `${BASE_URL}?image_type=photo&orientation=horizontal&q=${searchName}&page=${page}&per_page=${PER_PAGE}&key=${API_KEY}`\r\n    )\r\n)\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport s from \"./SearchBar.module.css\";\r\n\r\nexport default class SearchBar extends Component {\r\n    static propTypes = {\r\n        onSubmit: PropTypes.func.isRequired,\r\n    }\r\n\r\n    state = {\r\n        value:'',\r\n    }\r\n\r\n\r\n    handleChangeInput = ({currentTarget: {value}}) => {\r\n        this.setState({ value: value });\r\n    };\r\n\r\n    handleSubmit = e => {\r\n        const { onSubmit } = this.props;\r\n        const { value } = this.state;\r\n        e.preventDefault();\r\n        if (value.trim()) {\r\n            onSubmit(value);\r\n            this.setState({ value: '' })\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <header className={s.searchBar}>\r\n                <form className={s.searchForm} onSubmit={this.handleSubmit}>\r\n                    <button className={s.searchButton} type='submit'>\r\n                        <span className={s.buttonLabel}>Search</span>\r\n                    </button>\r\n                    <input className={s.formInput}\r\n                        type='text'\r\n                        autoComplete=\"off\"\r\n                        autoFocus\r\n                        placeholder=\"Search images and photos\"\r\n                        onChange={this.handleChangeInput}\r\n                    />\r\n                </form>\r\n            </header>\r\n        )\r\n    }\r\n}\r\n","const mapper = hits => {\r\n    return hits.map(({ id: imageId, webformatURL: smallImg, largeImageURL: modalImg, tags }) => ({ imageId, smallImg, modalImg,tags }))\r\n};\r\n\r\nexport default mapper;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport s from \"./ImageGallery.module.css\";\r\n\r\n\r\nconst ImageGalleryItem = ({ smallImg, modalImg, tags, onModalClick }) => {\r\n    return (\r\n        <img className={s.galleryImage} src={smallImg} alt={tags}\r\n            onClick={() => onModalClick(modalImg, tags)}\r\n        />\r\n    );\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n    onModalClick: PropTypes.func.isRequired, \r\n}\r\n\r\nexport default ImageGalleryItem;","import React from 'react';\r\nimport ImageGallerryItem from \"./ImageGalleryItem\";\r\nimport PropTypes from 'prop-types';\r\nimport s from \"./ImageGallery.module.css\";\r\n\r\nconst ImageGallery = ({ images, onModalOpen }) => (\r\n    <ul className={s.gallery}>\r\n        {images.map(({ imageId, smallImg, modalImg, tags }) =>\r\n            <li className={s.item} key={imageId}>\r\n            \r\n            \r\n                <ImageGallerryItem smallImg={smallImg} tags={tags} modalImg={modalImg} onModalClick={onModalOpen} />\r\n    \r\n            </li>\r\n        )}\r\n    </ul>\r\n);\r\n\r\nImageGallery.propTypes = {\r\n    images: PropTypes.arrayOf(PropTypes.shape({\r\n        imageId: PropTypes.number.isRequired,\r\n        smallImg: PropTypes.string.isRequired,\r\n        modalImg: PropTypes.string.isRequired,\r\n        tags: PropTypes.string.isRequired,\r\n    }).isRequired).isRequired,\r\n    onModalOpen: PropTypes.func.isRequired,\r\n}\r\n\r\nexport default ImageGallery;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport s from './Section.module.css';\r\n\r\nconst Section = ({ children }) => (\r\n  <section className={s.section}>\r\n    <div className={s.container}>{children}</div>\r\n  </section>\r\n);\r\n\r\nSection.propTypes = {\r\n  children: PropTypes.node,\r\n};\r\n\r\nexport default Section;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport s from \"./Button.module.css\";\r\n\r\nconst Button = ({onLoadMore}) => (\r\n    <button className={s.button} type=\"button\" onClick={()=>onLoadMore()}>\r\n        Load more\r\n    </button>\r\n)\r\n\r\nButton.propTypes = {\r\n    onLoadMore: PropTypes.func.isRequired,\r\n}\r\n\r\nexport default Button;","import Loader from \"react-loader-spinner\";\r\nimport React, { Component } from 'react';\r\n\r\nexport default class App extends Component {\r\n  \r\n  render() {\r\n    return (\r\n      <Loader\r\n        type=\"ThreeDots\"\r\n        color=\"#3f51b5\"\r\n        height={100}\r\n        width={100}\r\n        timeout={3000}\r\n      />\r\n    );\r\n  }\r\n}","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {createPortal} from 'react-dom';\r\nimport s from \"./Modal.module.css\";\r\n\r\nconst modalRoot = document.querySelector('#modal');\r\n\r\nexport default class Modal extends Component {\r\n    static propTypes = {\r\n        onClose: PropTypes.func.isRequired,\r\n    }\r\n    \r\n    // state = {\r\n    //     modalImg: '',\r\n    //     tags: \"\"\r\n    // };\r\n\r\n    componentDidMount() {\r\n        window.addEventListener('keydown', this.modalClose);\r\n    };\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener('keydown', this.modalClose);\r\n    };\r\n    \r\n    modalClose = e => {\r\n        const { onClose } = this.props;\r\n        if (e.code === 'Escape') {\r\n            onClose()\r\n        };\r\n    };\r\n\r\n    handleBackdropClick = e => {\r\n        const { onClose } = this.props;\r\n        if (e.currentTarget === e.target) {\r\n            onClose();\r\n        }\r\n    };\r\n\r\n    render() {\r\n        return createPortal(\r\n            <div className={s.overlay} onClick={this.handleBackdropClick}>\r\n                <div className={s.modal}>\r\n                    <img src={this.props.modalImg} alt={this.props.tags} />\r\n                </div>\r\n            </div>, modalRoot)\r\n    }\r\n}","import * as imageApi from \"../../services/apiFetch\";\r\nimport React, { Component } from \"react\";\r\nimport SearchBar from \"../SearchBar\";\r\nimport mapper from \"../../helpers/mapper\";\r\nimport ImageGallery from \"../ImageGallery\";\r\nimport Section from \"../Section\";\r\nimport Button from \"../Button\";\r\nimport Loader from \"../Loader\";\r\nimport Modal from \"../Modal\";\r\n\r\nexport default class App extends Component {\r\n\r\n  state = {\r\n    images: [],\r\n    query: \"\",\r\n    modalImg: '',\r\n    tags: '',\r\n    page: 1,\r\n    visible: false,\r\n    modalShow: false,\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const { query, page } = this.state;\r\n\r\n    if (query !== prevState.query || page !== prevState.page) {\r\n      this.fetchImages(query, page);\r\n    };\r\n    \r\n  };\r\n\r\n  fetchImages = (query, page) => {\r\n    this.setState({ visible: true });\r\n    imageApi\r\n      .fetchImg(query, page)\r\n      .then(({ data: { hits } }) => {\r\n        this.setState((prevState) => ({\r\n          images: [...prevState.images, ...mapper(hits)],\r\n        }))\r\n        window.scrollTo({\r\n          top: document.documentElement.scrollHeight,\r\n          behavior: 'smooth',\r\n        });\r\n      }\r\n      )\r\n      .catch((error) => console.log(\"error\", error)).finally(() => this.setState({ visible: false }))\r\n  };\r\n\r\n  reset = () => {\r\n    this.setState({\r\n      images: [],\r\n      query: \"\",\r\n      page: 1,\r\n    });\r\n  };\r\n\r\n  handleSubmit = (query) => {\r\n    this.reset();\r\n    this.setState({ query: query });\r\n  };\r\n\r\n  handleNextPage = () => {\r\n    this.setState((prevState) => ({ page: prevState.page + 1 }));\r\n  };\r\n\r\n  toggleModal = (modalImg, tags) => {\r\n    this.setState(({ modalShow }) => ({ modalShow: !modalShow, modalImg, tags }));\r\n  };\r\n\r\n  render() {\r\n    const { images, visible, modalShow, modalImg, tags } = this.state;\r\n    return (\r\n      <>\r\n        <SearchBar onSubmit={this.handleSubmit} />\r\n        <Section>\r\n          {!!images.length && <ImageGallery images={images} onModalOpen={this.toggleModal} />}\r\n          {visible && <Loader />}\r\n          {images.length >= 12 && <Button onLoadMore={this.handleNextPage} />}\r\n        </Section>\r\n        {modalShow && <Modal onClose={this.toggleModal}\r\n          modalImg={modalImg}\r\n          tags={tags} \r\n          />\r\n        }\r\n      </>\r\n    )\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchBar\":\"SearchBar_searchBar__2wzxk\",\"searchForm\":\"SearchBar_searchForm__3phfb\",\"searchButton\":\"SearchBar_searchButton__9jSSs\",\"buttonLabel\":\"SearchBar_buttonLabel__1e0fd\",\"formInput\":\"SearchBar_formInput__1sW50\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"ImageGallery_gallery__3nfW3\",\"item\":\"ImageGallery_item__1lfaH\",\"galleryImage\":\"ImageGallery_galleryImage__3pHg0\"};"],"sourceRoot":""}